<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-lab docs-version-current docs-doc-page docs-doc-id-lab02/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Laboratoire 2 : Interruptions, Timers | Microprocessor Architecture</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://upb-fils-am-fr.github.io/fr/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://upb-fils-am-fr.github.io/fr/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://upb-fils-am-fr.github.io/fr/lab/lab02"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en_GB"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-lab-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-lab-current"><meta data-rh="true" property="og:title" content="Laboratoire 2 : Interruptions, Timers | Microprocessor Architecture"><meta data-rh="true" name="description" content="Chapitres utiles du Datasheet ATmega324"><meta data-rh="true" property="og:description" content="Chapitres utiles du Datasheet ATmega324"><link data-rh="true" rel="icon" href="/fr/img/sigla_am.ico"><link data-rh="true" rel="canonical" href="https://upb-fils-am-fr.github.io/fr/lab/lab02"><link data-rh="true" rel="alternate" href="https://upb-fils-am-fr.github.io/lab/lab02" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://upb-fils-am-fr.github.io/fr/lab/lab02" hreflang="fr"><link data-rh="true" rel="alternate" href="https://upb-fils-am-fr.github.io/lab/lab02" hreflang="x-default"><link rel="stylesheet" href="/fr/assets/css/styles.f442cfaf.css">
<script src="/fr/assets/js/runtime~main.12a25529.js" defer="defer"></script>
<script src="/fr/assets/js/main.65f92606.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/fr/img/sigla_am.svg"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><div class="navbar__logo"><img src="/fr/img/sigla_am.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fr/img/sigla_am.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Microprocessor Architecture</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fr/lab">Lab</a><a class="navbar__item navbar__link" href="/fr/project">Project</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Français</a><ul class="dropdown__menu"><li><a href="/lab/lab02" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/fr/lab/lab02" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Français</a></li></ul></div><a href="https://github.com/UPB-FILS-AM-FR/am-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-label="Basculer entre le mode sombre et clair (actuellement mode clair)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab">Info General Labo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab/lab00">Laboratoire 0 : ATmega324. GPIO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab/lab01">Laboratoire 1 : USART. Débogage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/fr/lab/lab02">Laboratoire 2 : Interruptions, Timers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab/lab03">TP 3 : Timers, Modulation de Largeur d&#x27;Impulsion (PWM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab/lab04">Lab 4: Analog to Digital Converter (ADC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab/lab05">Lab 5: SPI (Serial Peripheral Interface)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/lab/lab06">Lab 6: I2C (Inter-Integrated Circuit)</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/fr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Laboratoire 2 : Interruptions, Timers</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>Laboratoire 2 : Interruptions, Timers</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chapitres-utiles-du-datasheet-atmega324"><strong>Chapitres utiles du</strong> <a href="https://ocw.cs.pub.ro/courses/_media/pm/doc8272.pdf" target="_blank" rel="noopener noreferrer">Datasheet ATmega324</a><a href="#chapitres-utiles-du-datasheet-atmega324" class="hash-link" aria-label="Lien direct vers chapitres-utiles-du-datasheet-atmega324" title="Lien direct vers chapitres-utiles-du-datasheet-atmega324">​</a></h3>
<ul>
<li><strong>1. Configuration des broches</strong>
<ul>
<li>Section 1.1 - Page 2</li>
</ul>
</li>
<li><strong>7. Cœur du processeur AVR</strong>
<ul>
<li>Section 7.3 - Page 11</li>
<li>Section 7.7 - Page 16</li>
</ul>
</li>
<li><strong>12. Interruptions</strong>
<ul>
<li>Tableau 12-1 - Page 61</li>
</ul>
</li>
<li><strong>13. Interruptions externes</strong>
<ul>
<li>Section 13.1 - Page 67</li>
<li>Sections 13.2.4-13.2.9 - Page 69</li>
</ul>
</li>
<li><strong>16. Minuteries/Compteurs 16 bits (Timer/Counter1 et Timer/Counter3) avec PWM</strong>
<ul>
<li>Sections 16.1-16.3 - Page 111</li>
<li>Section 16.5 - Page 117</li>
<li>Section 16.7 - Page 120</li>
<li>Sections 16.9.1-16.9.2 - Page 123</li>
<li>Section 16.11 - Page 132</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>attention</div><div class="admonitionContent_BuS1"><p>Les chapitres référencés proviennent du <a href="https://ocw.cs.pub.ro/courses/_media/pm/doc8272.pdf" target="_blank" rel="noopener noreferrer">Datasheet ATmega324</a>, un document disponible sur <strong>le bureau des ordinateurs du laboratoire</strong>.<br>
<!-- -->L&#x27;ordre des chapitres peut varier dans d&#x27;autres versions de la fiche technique !</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="objectif"><strong>Objectif</strong><a href="#objectif" class="hash-link" aria-label="Lien direct vers objectif" title="Lien direct vers objectif">​</a></h2>
<p>Ce laboratoire vise à vous familiariser avec les <strong>interruptions matérielles</strong> et les <strong>timers</strong> sur le microcontrôleur ATmega324.<br>
<!-- -->Dans cette séance, nous utiliserons les timers <strong>uniquement pour le comptage</strong>, sans générer de signaux PWM.<br>
<!-- -->La fonctionnalité PWM sera explorée dans le <strong>prochain laboratoire</strong>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-interruptions"><strong>1. Interruptions</strong><a href="#1-interruptions" class="hash-link" aria-label="Lien direct vers 1-interruptions" title="Lien direct vers 1-interruptions">​</a></h2>
<p>Une <strong>interruption matérielle</strong> est un signal synchrone ou asynchrone provenant d&#x27;un périphérique, indiquant qu&#x27;un événement doit être traité par le processeur.<br>
<!-- -->Lorsqu&#x27;une interruption est déclenchée, elle <strong>suspend l&#x27;exécution normale</strong> du programme et déclenche l&#x27;exécution d&#x27;une <strong>Routine de Service d&#x27;Interruption (ISR).</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pourquoi-utiliser-des-interruptions-"><strong>Pourquoi utiliser des interruptions ?</strong><a href="#pourquoi-utiliser-des-interruptions-" class="hash-link" aria-label="Lien direct vers pourquoi-utiliser-des-interruptions-" title="Lien direct vers pourquoi-utiliser-des-interruptions-">​</a></h3>
<p>Les interruptions éliminent le besoin de <strong>boucles d’interrogation (polling)</strong> où le processeur vérifie constamment un événement sur un périphérique.<br>
<!-- -->Grâce aux interruptions :</p>
<ul>
<li>Les périphériques peuvent notifier le processeur <strong>uniquement en cas de besoin</strong>.</li>
<li>Le processeur est <strong>libre</strong> d’exécuter d’autres tâches <strong>jusqu’à ce qu’un événement se produise</strong>.</li>
<li>Le programme s&#x27;exécute de manière <strong>plus efficace</strong>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gestion-des-interruptions"><strong>Gestion des interruptions</strong><a href="#gestion-des-interruptions" class="hash-link" aria-label="Lien direct vers gestion-des-interruptions" title="Lien direct vers gestion-des-interruptions">​</a></h3>
<p>Avant d&#x27;exécuter une <strong>ISR</strong>, le processeur <strong>sauvegarde son état actuel</strong> :</p>
<ul>
<li><strong>Compteur de programme (PC)</strong></li>
<li><strong>Registres d’état</strong></li>
<li><strong>Variables affectées par l’exécution de l’ISR</strong></li>
</ul>
<p>Ces informations sont stockées en <strong>mémoire</strong>, généralement sur une <strong>pile (stack)</strong>.<br>
<!-- -->Une fois l’ISR terminée, l’état <strong>précédent</strong> est restauré et le <strong>programme principal reprend</strong> son exécution à l&#x27;endroit où il a été interrompu.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-de-vecteurs-dinterruption-ivt"><strong>Table de Vecteurs d&#x27;Interruption (IVT)</strong><a href="#table-de-vecteurs-dinterruption-ivt" class="hash-link" aria-label="Lien direct vers table-de-vecteurs-dinterruption-ivt" title="Lien direct vers table-de-vecteurs-dinterruption-ivt">​</a></h2>
<p>Pour associer une interruption à une <strong>fonction ISR spécifique</strong>, le processeur utilise une <strong>Table de Vecteurs d&#x27;Interruption (IVT)</strong>, représentée dans le schéma ci-dessous.</p>
<p>Chaque interruption est assignée à une <strong>adresse mémoire fixe</strong> où se trouve la <strong>fonction ISR</strong> correspondante.<br>
<!-- -->Lorsqu&#x27;une interruption se produit, le processeur saute à l’<strong>adresse ISR</strong> correspondante dans l&#x27;IVT.</p>
<p><strong>Priorité des interruptions :</strong></p>
<ul>
<li><strong>Adresses les plus basses → Priorité la plus élevée</strong></li>
<li>Les interruptions situées <strong>au début de l&#x27;IVT</strong> sont traitées <strong>en premier</strong>.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-de-vecteurs-dinterruption-pour-latmega324"><strong>Table de Vecteurs d&#x27;Interruption pour l&#x27;ATmega324</strong><a href="#table-de-vecteurs-dinterruption-pour-latmega324" class="hash-link" aria-label="Lien direct vers table-de-vecteurs-dinterruption-pour-latmega324" title="Lien direct vers table-de-vecteurs-dinterruption-pour-latmega324">​</a></h2>
<table><thead><tr><th>N° Vecteur</th><th>Adresse Programme</th><th>Source</th><th>Définition de l&#x27;Interruption</th></tr></thead><tbody><tr><td>1</td><td>0000</td><td>RESET</td><td>Réinitialisation externe, mise sous tension, Reset Brown-out, Reset Watchdog, et Reset JTAG AWR</td></tr><tr><td>2</td><td>0002</td><td>INT0</td><td>Demande d&#x27;interruption externe 0</td></tr><tr><td>3</td><td>0004</td><td>INT1</td><td>Demande d&#x27;interruption externe 1</td></tr><tr><td>4</td><td>0006</td><td>INT2</td><td>Demande d&#x27;interruption externe 2</td></tr><tr><td>5</td><td>0008</td><td>PCINT0</td><td>Demande d&#x27;interruption par changement d’état 0</td></tr><tr><td>6</td><td>000A</td><td>PCINT1</td><td>Demande d&#x27;interruption par changement d’état 1</td></tr><tr><td>7</td><td>000C</td><td>PCINT2</td><td>Demande d&#x27;interruption par changement d’état 2</td></tr><tr><td>8</td><td>000E</td><td>PCINT3</td><td>Demande d&#x27;interruption par changement d’état 3</td></tr><tr><td>9</td><td>0010</td><td>WDT</td><td>Interruption de temporisation Watchdog</td></tr><tr><td>10</td><td>0012</td><td>TIMER2_COMPA</td><td>Comparaison A du Timer/Counter2</td></tr><tr><td>11</td><td>0014</td><td>TIMER2_COMPB</td><td>Comparaison B du Timer/Counter2</td></tr><tr><td>12</td><td>0016</td><td>TIMER2_OVF</td><td>Dépassement du Timer/Counter2</td></tr><tr><td>13</td><td>0018</td><td>TIMER1_CAPT</td><td>Capture d’événement du Timer/Counter1</td></tr><tr><td>14</td><td>001A</td><td>TIMER1_COMPA</td><td>Comparaison A du Timer/Counter1</td></tr><tr><td>15</td><td>001C</td><td>TIMER1_COMPB</td><td>Comparaison B du Timer/Counter1</td></tr><tr><td>16</td><td>001E</td><td>TIMER1_OVF</td><td>Dépassement du Timer/Counter1</td></tr><tr><td>17</td><td>0020</td><td>TIMER0_COMPA</td><td>Comparaison A du Timer/Counter0</td></tr><tr><td>18</td><td>0022</td><td>TIMER0_COMPB</td><td>Comparaison B du Timer/Counter0</td></tr><tr><td>19</td><td>0024</td><td>TIMER0_OVF</td><td>Dépassement du Timer/Counter0</td></tr><tr><td>20</td><td>0026</td><td>SPI_STC</td><td>Transfert série SPI terminé</td></tr><tr><td>21</td><td>0028</td><td>USART0_RX</td><td>Réception USART0 terminée</td></tr><tr><td>22</td><td>002A</td><td>USART0_UDRE</td><td>Registre de données USART0 vide</td></tr><tr><td>23</td><td>002C</td><td>USART0_TX</td><td>Transmission USART0 terminée</td></tr><tr><td>24</td><td>002E</td><td>ANALOG_COMP</td><td>Comparateur analogique</td></tr><tr><td>25</td><td>0030</td><td>ADC</td><td>Conversion ADC terminée</td></tr><tr><td>26</td><td>0032</td><td>EE_READY</td><td>EEPROM prête</td></tr><tr><td>27</td><td>0034</td><td>TWI</td><td>Interface série à deux fils (I2C)</td></tr><tr><td>28</td><td>0036</td><td>SPM_READY</td><td>Mémoire programme prête</td></tr><tr><td>29</td><td>0038</td><td>USART1_RX</td><td>Réception USART1 terminée</td></tr><tr><td>30</td><td>003A</td><td>USART1_UDRE</td><td>Registre de données USART1 vide</td></tr><tr><td>31</td><td>003C</td><td>USART1_TX</td><td>Transmission USART1 terminée</td></tr><tr><td>32</td><td>003E</td><td>TIMER3_CAPT</td><td>Capture d’événement du Timer/Counter3</td></tr><tr><td>33</td><td>0040</td><td>TIMER3_COMPA</td><td>Comparaison A du Timer/Counter3</td></tr><tr><td>34</td><td>0042</td><td>TIMER3_COMPB</td><td>Comparaison B du Timer/Counter3</td></tr><tr><td>35</td><td>0044</td><td>TIMER3_OVF</td><td>Dépassement du Timer/Counter3</td></tr></tbody></table>
<hr>
<p>D&#x27;après le tableau ci-dessus, en plus des <strong>interruptions des composants internes</strong> (timers, interfaces série, convertisseurs analogique-numérique), il existe également des <strong>interruptions des périphériques externes</strong> :<br>
<!-- -->✅ <strong>INT0-INT2</strong><br>
<!-- -->✅ <strong>PCINT0-PCINT3</strong></p>
<p>La <strong>différence</strong> entre ces deux types d&#x27;interruptions externes réside dans leurs capacités et leur niveau de granularité.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interruptions-intn"><strong>Interruptions INTn</strong><a href="#interruptions-intn" class="hash-link" aria-label="Lien direct vers interruptions-intn" title="Lien direct vers interruptions-intn">​</a></h3>
<ul>
<li>Les signaux des interruptions <strong>INTn</strong> proviennent de :<!-- -->
<ul>
<li><strong>Port D</strong> (broches 2, 3)</li>
<li><strong>Port B</strong> (broche 2)</li>
</ul>
</li>
<li>Elles peuvent déclencher une interruption :<!-- -->
<ul>
<li>Sur un <strong>front montant</strong> ou un <strong>front descendant</strong></li>
<li>Ou sur un <strong>niveau bas (0)</strong>, selon la configuration.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interruptions-pcintn"><strong>Interruptions PCINTn</strong><a href="#interruptions-pcintn" class="hash-link" aria-label="Lien direct vers interruptions-pcintn" title="Lien direct vers interruptions-pcintn">​</a></h3>
<ul>
<li>Les interruptions <strong>PCINTn</strong> se déclenchent sur <strong>les deux fronts</strong> (d&#x27;où le nom <strong>Pin Change INTerrupt</strong>).</li>
<li><strong>8 broches sont multiplexées</strong> sur une <strong>seule interruption</strong>.</li>
<li>Bien que les <strong>signaux PCINT</strong> puissent être activés individuellement, la broche exacte ayant déclenché l&#x27;interruption doit être déterminée en vérifiant le <strong>registre PINn</strong>.</li>
<li><strong>Les changements simultanés de plusieurs broches ne peuvent pas être distingués.</strong></li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>attention</div><div class="admonitionContent_BuS1"><p>Pour les <strong>interruptions par changement d’état</strong>, ne confondez pas le <strong>vecteur d&#x27;interruption (ex. : PCINT0)</strong> avec l&#x27;<strong>interruption réelle (ex. : PCINT0 (PA0))</strong>.<br>
<!-- -->Le mapping entre les vecteurs et les interruptions se trouve dans la <strong>Section 30, Page 555</strong> du <a href="https://ocw.cs.pub.ro/courses/_media/pm/doc8272.pdf" target="_blank" rel="noopener noreferrer">datasheet</a>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="broches-dinterruption-externe-sur-latmega324"><strong>Broches d&#x27;Interruption Externe sur l&#x27;ATmega324</strong><a href="#broches-dinterruption-externe-sur-latmega324" class="hash-link" aria-label="Lien direct vers broches-dinterruption-externe-sur-latmega324" title="Lien direct vers broches-dinterruption-externe-sur-latmega324">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Broches d&amp;#39;Interruption Externe sur l&amp;#39;ATmega324" src="/fr/assets/images/irq_pins-5d72456dd4d2457ee4ab5516aa62e4e7.png" width="778" height="598" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>astuce</div><div class="admonitionContent_BuS1"><p>Lorsqu&#x27;une interruption se produit, en plus de sauvegarder l&#x27;état, le processeur <strong>désactive</strong> les interruptions.<br>
<!-- -->À la fin de la routine d&#x27;interruption, elles sont <strong>réactivées</strong>.<br>
<!-- -->Les interruptions peuvent également être réactivées <strong>manuellement à l&#x27;intérieur du gestionnaire</strong> (ex. : si nous sommes dans un gestionnaire recevant une trame via une interface série et souhaitons activer une interruption de timer).</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-utilisation-des-interruptions"><strong>1.1. Utilisation des Interruptions</strong><a href="#11-utilisation-des-interruptions" class="hash-link" aria-label="Lien direct vers 11-utilisation-des-interruptions" title="Lien direct vers 11-utilisation-des-interruptions">​</a></h2>
<p>Pour activer une interruption, suivez ces étapes :</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1️⃣-activer-le-mécanisme-dinterruption-globale"><strong>1️⃣ Activer le mécanisme d&#x27;interruption globale</strong><a href="#1️⃣-activer-le-mécanisme-dinterruption-globale" class="hash-link" aria-label="Lien direct vers 1️⃣-activer-le-mécanisme-dinterruption-globale" title="Lien direct vers 1️⃣-activer-le-mécanisme-dinterruption-globale">​</a></h3>
<p>La gestion des interruptions doit être activée explicitement (bit <strong>I - Global Interrupt Enable</strong> dans le registre <code>SREG</code>).<br>
<!-- -->Pour activer et désactiver ce bit, utilisez les fonctions suivantes :</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Activer les interruptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sei</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Désactiver les interruptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cli</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2️⃣-configurer-le-périphérique-qui-générera-les-interruptions"><strong>2️⃣ Configurer le périphérique qui générera les interruptions</strong><a href="#2️⃣-configurer-le-périphérique-qui-générera-les-interruptions" class="hash-link" aria-label="Lien direct vers 2️⃣-configurer-le-périphérique-qui-générera-les-interruptions" title="Lien direct vers 2️⃣-configurer-le-périphérique-qui-générera-les-interruptions">​</a></h3>
<p>Par exemple, <code>INT0</code>, <code>INT1</code> et <code>INT2</code> sont configurés via le <strong>registre EICRA</strong><br>
<!-- -->(External Interrupt Control Register A, section <strong>13.2.1, page 67</strong> du <a href="https://ocw.cs.pub.ro/courses/_media/pm/doc8272.pdf" target="_blank" rel="noopener noreferrer">datasheet</a>).</p>
<p>Pour les <strong>interruptions par changement d’état (PCINTn)</strong>, utilisez le <strong>registre PCICR</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="registre-eicra"><strong>Registre EICRA</strong><a href="#registre-eicra" class="hash-link" aria-label="Lien direct vers registre-eicra" title="Lien direct vers registre-eicra">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Registre EICRA" src="/fr/assets/images/eicra-53513bf433f9f0b1d4734bd69f2ad9e1.png" width="1059" height="187" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modes-de-déclenchement-des-interruptions"><strong>Modes de Déclenchement des Interruptions</strong><a href="#modes-de-déclenchement-des-interruptions" class="hash-link" aria-label="Lien direct vers modes-de-déclenchement-des-interruptions" title="Lien direct vers modes-de-déclenchement-des-interruptions">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Modes EICRA" src="/fr/assets/images/eicra2-c12dcddceec2dc82e5b76e4eb30dcbc1.png" width="1078" height="277" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemples-de-configuration"><strong>Exemples de Configuration</strong><a href="#exemples-de-configuration" class="hash-link" aria-label="Lien direct vers exemples-de-configuration" title="Lien direct vers exemples-de-configuration">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Interruption externe : Configurer INT0 pour se déclencher sur tout changement logique</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EICRA </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> ISC00</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Interruption par changement d&#x27;état : Activer l’interruption sur changement d&#x27;état, configurer PCIE1 pour analyser PCMSK1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PCICR </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> PCIE1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>astuce</div><div class="admonitionContent_BuS1"><p>Une <strong>interruption externe</strong> peut être configurée pour se déclencher sur :</p><ul>
<li><strong>Un front montant</strong></li>
<li><strong>Un front descendant</strong></li>
<li><strong>Tout changement d’état</strong></li>
</ul><p>📌 Voir <strong>Table 13-1</strong> dans le <a href="https://ocw.cs.pub.ro/courses/_media/pm/doc8272.pdf" target="_blank" rel="noopener noreferrer">datasheet</a> pour plus de détails.</p><p>📌 Les <strong>interruptions par changement d’état</strong> se déclenchent sur <strong>n&#x27;importe quel changement de niveau</strong>, il faut donc <strong>vérifier explicitement la valeur du signal dans le gestionnaire d’interruption</strong>.</p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3️⃣-implémenter-la-routine-de-service-dinterruption-isr"><strong>3️⃣ Implémenter la Routine de Service d&#x27;Interruption (ISR)</strong><a href="#3️⃣-implémenter-la-routine-de-service-dinterruption-isr" class="hash-link" aria-label="Lien direct vers 3️⃣-implémenter-la-routine-de-service-dinterruption-isr" title="Lien direct vers 3️⃣-implémenter-la-routine-de-service-dinterruption-isr">​</a></h3>
<p>Les gestionnaires d&#x27;interruptions doivent être mappés à des <strong>adresses mémoire fixes</strong> dans la <strong>table de vecteurs d’interruption</strong>.<br>
<!-- -->Utilisez la macro <code>ISR()</code> pour les définir, en passant le <strong>type d&#x27;interruption</strong> approprié.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemple--gestion-des-interruptions-int0-et-pcint1"><strong>Exemple : Gestion des interruptions INT0 et PCINT1</strong><a href="#exemple--gestion-des-interruptions-int0-et-pcint1" class="hash-link" aria-label="Lien direct vers exemple--gestion-des-interruptions-int0-et-pcint1" title="Lien direct vers exemple--gestion-des-interruptions-int0-et-pcint1">​</a></h4>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">INT0_vect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Code pour l&#x27;interruption externe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PCINT1_vect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Code pour l&#x27;interruption par changement d’état</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PINB </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> PB1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// Interruption déclenchée par la broche PB1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="activation-des-interruptions-et-test-du-programme"><strong>Activation des Interruptions et Test du Programme</strong><a href="#activation-des-interruptions-et-test-du-programme" class="hash-link" aria-label="Lien direct vers activation-des-interruptions-et-test-du-programme" title="Lien direct vers activation-des-interruptions-et-test-du-programme">​</a></h2>
<p>Pour activer les interruptions externes, configurez le <strong>registre de masque des interruptions externes (EIMSK)</strong> :</p>
<ul>
<li>Les bits <strong>INT2:0</strong> contrôlent l&#x27;activation des interruptions externes (<strong>INT0-INT2</strong>).</li>
</ul>
<p>Pour les <strong>interruptions par changement d’état</strong>, configurez le <strong>registre correspondant</strong> (par ex., <code>PCMSK1</code> pour les interruptions sur des broches spécifiques).</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Activer l&#x27;interruption externe INT0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EIMSK </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> INT0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Activer l&#x27;interruption par changement d’état PCINT9 (PB1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PCMSK1 </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> PCINT9</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Activer les interruptions globales</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sei</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>📌 <strong>Registres supplémentaires pour la gestion des interruptions</strong></p></summary><div><div class="collapsibleContent_i85q"><p>Pour une <strong>description complète</strong> de ces registres, consultez le <a href="https://ocw.cs.pub.ro/courses/_media/pm/doc8272.pdf" target="_blank" rel="noopener noreferrer">datasheet</a><br>
<!-- -->(<em>Interruptions</em>, <em>Interruptions Externes</em>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registre-détat-sreg"><strong>Registre d&#x27;État (SREG)</strong><a href="#registre-détat-sreg" class="hash-link" aria-label="Lien direct vers registre-détat-sreg" title="Lien direct vers registre-détat-sreg">​</a></h3><ul>
<li>Stocke les <strong>indicateurs d&#x27;état</strong> définis par l&#x27;ALU.</li>
<li>Contient le bit <strong>I</strong>, qui active/désactive les interruptions globales.</li>
<li><strong>N&#x27;est pas sauvegardé</strong> lorsqu&#x27;une interruption se produit.</li>
<li>Décrit dans le chapitre <em>Cœur du processeur AVR</em>.</li>
</ul><p>📌 <strong>Registre SREG</strong>
<img decoding="async" loading="lazy" alt="Registre SREG" src="data:image/png;base64,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" width="574" height="85" class="img_ev3q"></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registre-de-contrôle-mcu-mcucr"><strong>Registre de Contrôle MCU (MCUCR)</strong><a href="#registre-de-contrôle-mcu-mcucr" class="hash-link" aria-label="Lien direct vers registre-de-contrôle-mcu-mcucr" title="Lien direct vers registre-de-contrôle-mcu-mcucr">​</a></h3><ul>
<li>Bit <code>IVSEL</code> : Définit <strong>l&#x27;emplacement de la table des vecteurs d&#x27;interruption</strong><br>
<!-- -->(<code>0</code> = Début de la mémoire Flash, <code>1</code> = Section Boot Loader).</li>
<li>Bit <code>IVCE</code> : Permet d&#x27;écrire dans le bit <code>IVSEL</code>.</li>
</ul><p>📌 <strong>Registre MCUCR</strong>
<img decoding="async" loading="lazy" alt="Registre MCUCR" src="data:image/png;base64,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" width="818" height="112" class="img_ev3q"></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registre-de-masque-des-interruptions-externes-eimsk"><strong>Registre de Masque des Interruptions Externes (EIMSK)</strong><a href="#registre-de-masque-des-interruptions-externes-eimsk" class="hash-link" aria-label="Lien direct vers registre-de-masque-des-interruptions-externes-eimsk" title="Lien direct vers registre-de-masque-des-interruptions-externes-eimsk">​</a></h3><ul>
<li>Les bits <strong>INT2:0</strong> contrôlent l&#x27;activation des interruptions externes.</li>
<li>Si <code>INT2:0</code> <strong>ET</strong> le bit <code>I</code> dans <code>SREG</code> sont à <code>1</code>,<br>
<!-- -->les interruptions externes sont <strong>activées</strong> sur la broche correspondante.</li>
</ul></div></div></details>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-utilisation-des-interruptions-dans-avr-gcc"><strong>1.2 Utilisation des Interruptions dans avr-gcc</strong><a href="#12-utilisation-des-interruptions-dans-avr-gcc" class="hash-link" aria-label="Lien direct vers 12-utilisation-des-interruptions-dans-avr-gcc" title="Lien direct vers 12-utilisation-des-interruptions-dans-avr-gcc">​</a></h2>
<p>La bibliothèque <strong>avr-libc</strong> fournit l&#x27;interface <code>&lt;avr/interrupt.h&gt;</code><br>
<!-- -->pour définir des <strong>routines de service d&#x27;interruption (ISR)</strong>.</p>
<p>Chaque microcontrôleur possède une <strong>table de vecteurs spécifique</strong>,<br>
<!-- -->déclarée dans le fichier <strong>IO header correspondant</strong><br>
<!-- -->(pour <strong>ATMega324</strong>, voir <code>iom324.h</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vecteurs-dinterruption-courants"><strong>Vecteurs d&#x27;Interruption Courants</strong><a href="#vecteurs-dinterruption-courants" class="hash-link" aria-label="Lien direct vers vecteurs-dinterruption-courants" title="Lien direct vers vecteurs-dinterruption-courants">​</a></h3>
<table><thead><tr><th>Interruption</th><th>Vecteur</th><th>Description</th></tr></thead><tbody><tr><td>TIMER1_COMPA</td><td>TIMER1_COMPA_vect</td><td>Comparaison sur Timer 1, Seuil A</td></tr><tr><td>TIMER1_COMPB</td><td>TIMER1_COMPB_vect</td><td>Comparaison sur Timer 1, Seuil B</td></tr><tr><td>TIMER1_OVF</td><td>TIMER1_OVF_vect</td><td>Dépassement du Timer 1</td></tr><tr><td>PCINT1</td><td>PCINT1_vect</td><td>Interruption par changement d&#x27;état sur Port B</td></tr><tr><td>...</td><td>...</td><td>...</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="définition-dune-isr"><strong>Définition d&#x27;une ISR</strong><a href="#définition-dune-isr" class="hash-link" aria-label="Lien direct vers définition-dune-isr" title="Lien direct vers définition-dune-isr">​</a></h3>
<p>Utilisez la macro <code>ISR()</code> pour créer un gestionnaire d&#x27;interruption :</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;avr/interrupt.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">INT0_vect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Code de gestion de l&#x27;interruption</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="règles-de-gestion-des-interruptions"><strong>Règles de Gestion des Interruptions</strong><a href="#règles-de-gestion-des-interruptions" class="hash-link" aria-label="Lien direct vers règles-de-gestion-des-interruptions" title="Lien direct vers règles-de-gestion-des-interruptions">​</a></h3>
<p>✅ <strong>Pas de valeur de retour</strong> : Le processeur reprend l&#x27;exécution <strong>là où il s&#x27;était arrêté</strong><br>
<!-- -->✅ <strong>Minimiser le temps d&#x27;exécution</strong> : L&#x27;ISR <strong>bloque</strong> l&#x27;exécution du programme principal<br>
<!-- -->✅ <strong>Manipuler les variables partagées avec précaution</strong> :</p>
<ul>
<li><strong>Utiliser <code>volatile</code></strong> pour les variables partagées, afin d&#x27;éviter l&#x27;optimisation du compilateur.</li>
<li><strong>Faire attention aux conditions de concurrence</strong> lors de la modification de <strong>variables multi-octets (16/32 bits)</strong>.</li>
</ul>
<hr>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>📌 <strong>Les interruptions peuvent être déclarées avec des options spécifiques</strong></p></summary><div><div class="collapsibleContent_i85q"><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;avr/interrupt.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> flag</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Code de gestion de l&#x27;interruption</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>La macro <code>ISR()</code> :</p><ul>
<li>Définit le gestionnaire pour un <strong>périphérique spécifique</strong>.</li>
<li><strong>Sauvegarde le registre <code>SREG</code></strong> avant l&#x27;exécution.</li>
<li>Appelle l&#x27;instruction <strong><code>reti</code></strong> à la fin.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="options-isr"><strong>Options ISR</strong><a href="#options-isr" class="hash-link" aria-label="Lien direct vers options-isr" title="Lien direct vers options-isr">​</a></h3><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><strong>ISR_BLOCK</strong></td><td><strong>Comportement par défaut</strong> : Les interruptions globales sont désactivées dans l&#x27;ISR.</td></tr><tr><td><strong>ISR_NOBLOCK</strong></td><td>Permet les <strong>interruptions imbriquées</strong> (utile pour la gestion de priorités).</td></tr><tr><td><strong>ISR_NAKED</strong></td><td><strong>Supprime le prologue/épilogue</strong> (pas de sauvegarde <code>SREG</code>, pas d&#x27;appel <code>reti</code>).</td></tr><tr><td><strong>ISR_ALIASOF</strong></td><td>Rend une ISR <strong>alias</strong> d&#x27;une autre ISR.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exemple--alias-dinterruptions"><strong>Exemple : Alias d&#x27;Interruptions</strong><a href="#exemple--alias-dinterruptions" class="hash-link" aria-label="Lien direct vers exemple--alias-dinterruptions" title="Lien direct vers exemple--alias-dinterruptions">​</a></h4><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;avr/interrupt.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">INT0_vect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Gestionnaire d&#x27;interruption pour INT0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">INT1_vect</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ISR_ALIASOF</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">INT0_vect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// INT1 utilise le même gestionnaire que INT0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fonctions-utilitaires-supplémentaires"><strong>Fonctions Utilitaires Supplémentaires</strong><a href="#fonctions-utilitaires-supplémentaires" class="hash-link" aria-label="Lien direct vers fonctions-utilitaires-supplémentaires" title="Lien direct vers fonctions-utilitaires-supplémentaires">​</a></h3>
<table><thead><tr><th>Fonction</th><th>Description</th></tr></thead><tbody><tr><td><strong><code>sei()</code></strong></td><td><strong>Active</strong> les interruptions globales (<code>I</code> bit dans <code>SREG</code> = 1).</td></tr><tr><td><strong><code>cli()</code></strong></td><td><strong>Désactive</strong> les interruptions globales (<code>I</code> bit dans <code>SREG</code> = 0).</td></tr><tr><td><strong><code>reti()</code></strong></td><td><strong>Retourne depuis une ISR</strong>, réactivant les interruptions.</td></tr></tbody></table>
<hr>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>attention</div><div class="admonitionContent_BuS1"><p><strong>⚠ Une interruption active sans ISR provoquera un Reset système !</strong><br>
<!-- -->Si une interruption activée <strong>n&#x27;a pas de gestionnaire</strong>, le système sera <strong>réinitialisé</strong>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-minuterie-timer"><strong>2. Minuterie (Timer)</strong><a href="#2-minuterie-timer" class="hash-link" aria-label="Lien direct vers 2-minuterie-timer" title="Lien direct vers 2-minuterie-timer">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-fonctionnement-dun-timer"><strong>2.1. Fonctionnement d&#x27;un Timer</strong><a href="#21-fonctionnement-dun-timer" class="hash-link" aria-label="Lien direct vers 21-fonctionnement-dun-timer" title="Lien direct vers 21-fonctionnement-dun-timer">​</a></h3>
<p>Un <strong>Timer/Compteur</strong> mesure des intervalles de temps fixes et peut déclencher des <strong>interruptions</strong> lorsque l&#x27;intervalle mesuré expire.<br>
<!-- -->Une fois initialisé, un timer fonctionne <strong>indépendamment</strong> du CPU, éliminant ainsi le besoin de boucles d’attente.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="composants-de-base-dun-timer-sur-latmega324"><strong>Composants de Base d’un Timer sur l’ATmega324</strong><a href="#composants-de-base-dun-timer-sur-latmega324" class="hash-link" aria-label="Lien direct vers composants-de-base-dun-timer-sur-latmega324" title="Lien direct vers composants-de-base-dun-timer-sur-latmega324">​</a></h3>
<ol>
<li><strong>Registre Compteur (<code>TCNT</code>)</strong> - Mesure les intervalles de temps et s’incrémente à une fréquence définie.</li>
<li><strong>Prédiviseur (Prescaler)</strong> - Divise la fréquence d’horloge en fonction des besoins de l’application.</li>
<li><strong>Registre de Comparaison (<code>OCRn</code>)</strong> - Stocke une valeur seuil. Si <code>TCNT</code> atteint cette valeur, une <strong>interruption est générée</strong>.</li>
</ol>
<p>📌 <strong>Schéma Fonctionnel du Timer (ATmega324)</strong><br>
<img decoding="async" loading="lazy" alt="Schéma Fonctionnel du Timer" src="/fr/assets/images/timer_block-c6ddec9e9a14445cb156194f3f355a09.png" width="660" height="492" class="img_ev3q"></p>
<p>L’ATmega324 dispose de <strong>trois timers</strong> :</p>
<ul>
<li><strong>Deux timers 8 bits</strong> (Timer0 &amp; Timer2)</li>
<li><strong>Un timer 16 bits</strong> (Timer1)</li>
</ul>
<p>Les timers peuvent aussi fonctionner en <strong>mode PWM</strong> pour générer des <strong>signaux de commande de tension variable</strong>, qui seront étudiés lors du prochain laboratoire.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-modes-de-fonctionnement-du-timer"><strong>2.2. Modes de Fonctionnement du Timer</strong><a href="#22-modes-de-fonctionnement-du-timer" class="hash-link" aria-label="Lien direct vers 22-modes-de-fonctionnement-du-timer" title="Lien direct vers 22-modes-de-fonctionnement-du-timer">​</a></h3>
<p>Les timers peuvent fonctionner en différents <strong>modes</strong>, chacun définissant :</p>
<ul>
<li>La plage de comptage.</li>
<li>Le comportement du comptage (<strong>incrémentation uniquement</strong> ou <strong>incrémentation/décrémentation</strong>).</li>
<li>Quand le compteur se réinitialise.</li>
</ul>
<p>📌 <strong>Modes utilisés dans ce laboratoire :</strong></p>
<table><thead><tr><th>Mode</th><th>Description</th><th>Comportement du Compteur</th><th>Propriétés</th></tr></thead><tbody><tr><td><strong>Normal</strong></td><td><em>Démarre à 0</em>        <em>Compte jusqu’à <code>0xFFFF</code></em></td><td><img decoding="async" loading="lazy" alt="Mode Normal" src="data:image/png;base64,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" width="1138" height="371" class="img_ev3q"></td><td><em>Fréquence fixe basée sur l’horloge &amp; le prédiviseur</em></td></tr><tr><td><strong>CTC (Clear Timer on Compare)</strong></td><td><em>Démarre à 0</em>        <em>Compte jusqu’à <code>OCRnA</code></em>        <em>Se réinitialise à la valeur seuil</em></td><td><img decoding="async" loading="lazy" alt="Mode CTC" src="data:image/png;base64,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" width="900" height="387" class="img_ev3q"></td><td><em>Fréquence variable basée sur l’horloge, le prédiviseur &amp; la valeur de comparaison</em></td></tr></tbody></table>
<p><strong>Termes Clés :</strong></p>
<ul>
<li><strong>BOTTOM</strong> : Valeur minimale de comptage (<code>0</code>).</li>
<li><strong>TOP</strong> : Valeur maximale de comptage.</li>
<li><strong>MAX</strong> : Valeur la plus haute possible (255 pour les timers 8 bits, 65535 pour les timers 16 bits).<!-- -->
<ul>
<li><strong>TOP = MAX</strong> en <strong>Mode Normal</strong>.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-registres-du-timer"><strong>2.3. Registres du Timer</strong><a href="#23-registres-du-timer" class="hash-link" aria-label="Lien direct vers 23-registres-du-timer" title="Lien direct vers 23-registres-du-timer">​</a></h3>
<table><thead><tr><th>Timer</th><th>Registres</th><th>Description</th></tr></thead><tbody><tr><td><strong>Timer0 (8 bits)</strong></td><td><code>TCNT0</code></td><td>Registre du compteur (valeur courante du compteur)</td></tr><tr><td></td><td><code>TCCR0A</code>, <code>TCCR0B</code></td><td>Registres de contrôle (configuration du timer)</td></tr><tr><td></td><td><code>OCR0A</code>, <code>OCR0B</code></td><td>Registres de comparaison (définition des seuils d’interruption)</td></tr><tr><td></td><td><code>TIMSK0</code>, <code>TIFR0</code></td><td>Registres pour activer/désactiver les interruptions &amp; indicateurs d’état</td></tr><tr><td><strong>Timer1 (16 bits)</strong></td><td><code>TCNT1H/L</code></td><td>Registre compteur 16 bits</td></tr><tr><td></td><td><code>TCCR1A</code>, <code>TCCR1B</code>, <code>TCCR1C</code></td><td>Registres de contrôle</td></tr><tr><td></td><td><code>OCR1AH/L</code>, <code>OCR1BH/L</code></td><td>Registres de comparaison 16 bits</td></tr><tr><td></td><td><code>TIMSK1</code>, <code>TIFR1</code></td><td>Registres d’interruption &amp; indicateurs d’état</td></tr><tr><td></td><td><code>ICR1H/L</code></td><td>Registre de Capture d’Entrée - stocke la valeur du compteur sur un événement externe</td></tr><tr><td><strong>Timer2 (8 bits)</strong></td><td><em>Même registres que Timer0</em></td><td>Timer2 prend en charge une <strong>horloge externe</strong> via <code>TOSC1</code> &amp; <code>TOSC2</code></td></tr><tr><td></td><td><code>ASSR</code>, <code>GTCCR</code></td><td>Registres pour le fonctionnement asynchrone</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>astuce</div><div class="admonitionContent_BuS1"><p><strong>Les interruptions doivent être activées globalement (bit <code>I</code> dans <code>SREG</code> doit être activé).</strong><br>
<!-- -->Utilisez <code>sei();</code> pour activer les interruptions globales.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="24-configuration-du-timer"><strong>2.4. Configuration du Timer</strong><a href="#24-configuration-du-timer" class="hash-link" aria-label="Lien direct vers 24-configuration-du-timer" title="Lien direct vers 24-configuration-du-timer">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="définition-du-mode-du-timer"><strong>Définition du Mode du Timer</strong><a href="#définition-du-mode-du-timer" class="hash-link" aria-label="Lien direct vers définition-du-mode-du-timer" title="Lien direct vers définition-du-mode-du-timer">​</a></h3>
<p>Pour configurer un mode de timer :</p>
<ol>
<li>Définissez les bits <strong><code>WGM</code></strong> dans le registre <strong>TCCRnA</strong> correspondant.</li>
<li>Définissez le <strong>seuil de comparaison</strong>.</li>
</ol>
<p><strong>Exemple : Configurer Timer0 en mode CTC, comptant jusqu&#x27;à 5</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">TCCR0A </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> WGM01</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Mode CTC activé</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OCR0A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Définition du seuil de comparaison</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-du-prédiviseur"><strong>Configuration du Prédiviseur</strong><a href="#configuration-du-prédiviseur" class="hash-link" aria-label="Lien direct vers configuration-du-prédiviseur" title="Lien direct vers configuration-du-prédiviseur">​</a></h3>
<p>Les valeurs du prédiviseur sont définies à l’aide des <strong>bits CSx</strong> dans <code>TCCRnB</code>.</p>
<p><strong>Exemple : Définir le prédiviseur du Timer2 à 256</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">TCCR2B </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> CS22</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> CS21</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Prédiviseur de 256</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activation-des-interruptions-du-timer"><strong>Activation des Interruptions du Timer</strong><a href="#activation-des-interruptions-du-timer" class="hash-link" aria-label="Lien direct vers activation-des-interruptions-du-timer" title="Lien direct vers activation-des-interruptions-du-timer">​</a></h3>
<p>Pour déclencher une <strong>interruption lors d’une comparaison</strong>, activez le bit correspondant dans <code>TIMSKx</code>.</p>
<p><strong>Exemple : Activer l’interruption de Comparaison A pour Timer1</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;avr/interrupt.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ISR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TIMER1_COMPA_vect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Gestionnaire d&#x27;interruption pour la comparaison A du Timer1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">init_timer1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TIMSK1 </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> OCIE1A</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Activer l’interruption Comparaison A du Timer1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">sei</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Activer les interruptions globales</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">init_timer1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Initialiser Timer1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Boucle principale</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="25-gestion-des-registres-16-bits"><strong>2.5. Gestion des Registres 16 bits</strong><a href="#25-gestion-des-registres-16-bits" class="hash-link" aria-label="Lien direct vers 25-gestion-des-registres-16-bits" title="Lien direct vers 25-gestion-des-registres-16-bits">​</a></h2>
<p>Certains registres (<code>TCNT1</code>, <code>OCR1A/B</code>, <code>ICR1</code>) sont <strong>16 bits</strong> mais accessibles <strong>8 bits à la fois</strong>.</p>
<ul>
<li>Écrire le <strong>byte de poids fort en premier</strong> garantit des mises à jour atomiques.</li>
</ul>
<p><strong>Exemple : Écriture dans <code>OCR1A</code> (registre 16 bits)</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OCR1AH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seuil </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Écrire le byte de poids fort d’abord</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OCR1AL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> seuil</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Puis écrire le byte de poids faible</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>astuce</div><div class="admonitionContent_BuS1"><p>Cela est <strong>automatiquement géré par le compilateur</strong> en C lorsque les registres <strong>sans suffixe <code>H</code> ou <code>L</code></strong> sont utilisés.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="26-calculateur-de-timer"><strong>2.6. Calculateur de Timer</strong><a href="#26-calculateur-de-timer" class="hash-link" aria-label="Lien direct vers 26-calculateur-de-timer" title="Lien direct vers 26-calculateur-de-timer">​</a></h2>
<p>Pour configurer un timer :</p>
<ul>
<li>Choisissez un <strong>prédiviseur</strong>.</li>
<li>Définissez une <strong>limite de comptage</strong>.</li>
<li>Calculez les valeurs en fonction de la <strong>fréquence désirée</strong> et de l’<strong>horloge système</strong>.</li>
</ul>
<p><strong>Formule pour la fréquence d’interruption (<code>f_int</code>)</strong> :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">f_int = f_clk / (prédiviseur * (tc + 1))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Calcul de la valeur du Timer (<code>tc</code>)</strong> :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tc = f_clk / (prédiviseur * f_int) - 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>📌 <strong>Exemple : Générer une interruption à 1Hz (Horloge = 12MHz)</strong></p>
<table><thead><tr><th>Prédiviseur</th><th>Limite de Compteur (<code>tc</code>)</th><th>Timer1 (16 bits)</th><th>Timer0,2 (8 bits)</th><th>Remarques</th></tr></thead><tbody><tr><td><strong>1</strong></td><td>11,999,999</td><td>❌ Impossible (Dépassement 16 bits)</td><td>❌ Impossible (Dépassement 8 bits)</td><td>Dépassement</td></tr><tr><td><strong>8</strong></td><td>1,499,999</td><td>❌ Impossible</td><td>❌ Impossible</td><td>Dépassement</td></tr><tr><td><strong>64</strong></td><td>187,499</td><td>❌ Impossible</td><td>❌ Impossible</td><td>Dépassement</td></tr><tr><td><strong>256</strong></td><td>46,874</td><td>✅ Valide (Utiliser Timer1)</td><td>❌ Impossible</td><td><strong>Requiert Timer1</strong></td></tr><tr><td><strong>1024</strong></td><td>11,717</td><td>❌ Impossible</td><td>❌ Impossible</td><td><strong>Valeur non exacte</strong></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>astuce</div><div class="admonitionContent_BuS1"><p><strong>Timer2 prend en charge des prédiviseurs de 32 et 128 (Voir ATmega324 Datasheet, Section 17.11.2, Page 160).</strong></p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="outils-de-calcul-en-ligne"><strong>Outils de Calcul en Ligne</strong><a href="#outils-de-calcul-en-ligne" class="hash-link" aria-label="Lien direct vers outils-de-calcul-en-ligne" title="Lien direct vers outils-de-calcul-en-ligne">​</a></h2>
<p>Si vous avez besoin de <strong>valeurs précises des registres</strong>, utilisez ces outils :</p>
<ul>
<li>
<p><strong>Calculateur de Timer/Compteur ATmega</strong><br>
<a href="https://web.archive.org/web/20180312235028/https://et06.dunweber.com/atmega_timers/" target="_blank" rel="noopener noreferrer">ATmega Timer Calculator</a></p>
<iframe src="https://web.archive.org/web/20180312235028/https://et06.dunweber.com/atmega_timers/" width="100%" height="500px"></iframe>
</li>
<li>
<p><strong>Calculateur d’Interruptions de Timer pour Arduino</strong><br>
<a href="https://www.arduinoslovakia.eu/application/timer-calculator" target="_blank" rel="noopener noreferrer">AVR Timer Calculator</a></p>
</li>
</ul>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Travail en labo</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Devoirs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-11--implémentation-de-millis"><strong>Tâche 1.1 : Implémentation de <code>millis()</code></strong><a href="#tâche-11--implémentation-de-millis" class="hash-link" aria-label="Lien direct vers tâche-11--implémentation-de-millis" title="Lien direct vers tâche-11--implémentation-de-millis">​</a></h3><ul>
<li>Implémentez une fonction similaire à <code>millis()</code> d&#x27;Arduino, qui retourne le temps écoulé depuis le démarrage ou le dernier reset du microcontrôleur (µC).</li>
<li>Configurez <strong>USART0</strong> avec les mêmes paramètres que dans le laboratoire précédent.</li>
<li>Envoyez un message choisi au PC <strong>toutes les 1 seconde</strong>.</li>
</ul><p>📌 <strong>Astuces :</strong></p><ul>
<li>La <strong>fréquence d&#x27;horloge du µC est de 12MHz</strong>.</li>
<li>Utilisez les <strong>formules de la section précédente</strong> pour calculer le <strong>prédiviseur</strong> et la <strong>valeur du registre de comparaison</strong> pour le timer.</li>
<li><strong>Timer2</strong> offre plus d’options de prédiviseurs, ce qui en fait un bon choix.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-12--anti-rebond-des-boutons"><strong>Tâche 1.2 : Anti-rebond des boutons</strong><a href="#tâche-12--anti-rebond-des-boutons" class="hash-link" aria-label="Lien direct vers tâche-12--anti-rebond-des-boutons" title="Lien direct vers tâche-12--anti-rebond-des-boutons">​</a></h3><ul>
<li>Une <strong>méthode de filtrage (debounce)</strong> est nécessaire pour détecter correctement les <strong>appuis courts sur un bouton</strong>.</li>
<li>Comment peut-on utiliser <strong><code>millis()</code></strong> pour éliminer les fausses lectures ?</li>
<li><strong>Écrivez une fonction en pseudocode</strong> illustrant votre solution.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions"><strong>Tâche 2 : Réimplémentation de l&#x27;Exercice 3 du Laboratoire 0 en utilisant les Timers et Interruptions</strong><a href="#tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions" class="hash-link" aria-label="Lien direct vers tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions" title="Lien direct vers tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions">​</a></h3><ul>
<li><strong>Utilisez des timers et interruptions</strong> pour détecter les appuis sur les boutons et <strong>contrôler le clignotement des LEDs</strong>.</li>
</ul><p>📌 <strong>Rappel (Lab 0, Exercice 3) :</strong></p><ul>
<li><strong>BTN1 :</strong> Change la couleur de la <strong>LED RGB</strong> (<strong>Rouge → Vert → Bleu → Rouge</strong>).</li>
<li><strong>BTN2 :</strong> Active/Désactive le <strong>clignotement de la LED</strong>.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-3--contrôle-dun-buzzer-avec-des-boutons"><strong>Tâche 3 : Contrôle d’un Buzzer avec des Boutons</strong><a href="#tâche-3--contrôle-dun-buzzer-avec-des-boutons" class="hash-link" aria-label="Lien direct vers tâche-3--contrôle-dun-buzzer-avec-des-boutons" title="Lien direct vers tâche-3--contrôle-dun-buzzer-avec-des-boutons">​</a></h3><ul>
<li>Utilisez les <strong>boutons <code>PD6</code> et <code>PB2</code></strong> pour contrôler un buzzer.</li>
<li><strong>Un bouton sélectionne la fréquence</strong> parmi trois valeurs (ex. <strong>100Hz, 200Hz, 300Hz</strong>).</li>
<li><strong>Le deuxième bouton doit être maintenu enfoncé</strong> pour que le buzzer émette un son.</li>
<li><strong>Utilisez la LED RGB</strong> pour indiquer la fréquence sélectionnée.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-4-bonus--correction-derreur-du-timer"><strong>Tâche 4 (BONUS) : Correction d’Erreur du Timer</strong><a href="#tâche-4-bonus--correction-derreur-du-timer" class="hash-link" aria-label="Lien direct vers tâche-4-bonus--correction-derreur-du-timer" title="Lien direct vers tâche-4-bonus--correction-derreur-du-timer">​</a></h3><ul>
<li>La fonction <strong><code>millis()</code></strong> accumule une <strong>erreur</strong> au fil du temps en raison des imprécisions de division de la fréquence d’horloge.</li>
<li><strong>Calcul :</strong>
<ul>
<li>Après combien de cycles du timer <strong>l&#x27;erreur dépasse-t-elle 1ms</strong> ?</li>
</ul>
</li>
<li><strong>Proposez une méthode</strong> pour réduire cette erreur.</li>
<li><strong>Implémentez la méthode de correction proposée</strong>.</li>
</ul><hr></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><strong>Utilisez ce</strong> <a href="https://www.tinkercad.com/things/kcBoaJMamLq-l02timerinterrupts?sharecode=0OTaTcQsxhidmfeSklLvesX5KHotedJvZVVPS4pSP_s" target="_blank" rel="noopener noreferrer"><strong>squelette de devoirs Tinkercad</strong></a> ↗️</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-11--implémentation-de-millis-1"><strong>Tâche 1.1 : Implémentation de <code>millis()</code></strong><a href="#tâche-11--implémentation-de-millis-1" class="hash-link" aria-label="Lien direct vers tâche-11--implémentation-de-millis-1" title="Lien direct vers tâche-11--implémentation-de-millis-1">​</a></h3><ul>
<li>Implémentez une fonction similaire à <code>millis()</code> d&#x27;Arduino, qui retourne le temps écoulé depuis le démarrage ou le dernier reset du microcontrôleur (µC).</li>
<li>Configurez <strong>USART0</strong> avec les mêmes paramètres que dans le laboratoire précédent.</li>
<li>Envoyez un message choisi au PC <strong>toutes les 1 seconde</strong>.</li>
</ul><p>📌 <strong>Astuces :</strong></p><ul>
<li>La <strong>fréquence d&#x27;horloge du µC est de 12MHz</strong>.</li>
<li>Utilisez les <strong>formules de la section précédente</strong> pour calculer le <strong>prédiviseur</strong> et la <strong>valeur du registre de comparaison</strong> pour le timer.</li>
<li><strong>Timer2</strong> offre plus d’options de prédiviseurs, ce qui en fait un bon choix.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-12--anti-rebond-des-boutons-1"><strong>Tâche 1.2 : Anti-rebond des boutons</strong><a href="#tâche-12--anti-rebond-des-boutons-1" class="hash-link" aria-label="Lien direct vers tâche-12--anti-rebond-des-boutons-1" title="Lien direct vers tâche-12--anti-rebond-des-boutons-1">​</a></h3><ul>
<li>Une <strong>méthode de filtrage (debounce)</strong> est nécessaire pour détecter correctement les <strong>appuis courts sur un bouton</strong>.</li>
<li>Comment peut-on utiliser <strong><code>millis()</code></strong> pour éliminer les fausses lectures ?</li>
<li><strong>Écrivez une fonction en pseudocode</strong> illustrant votre solution.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions-1"><strong>Tâche 2 : Réimplémentation de l&#x27;Exercice 3 du Laboratoire 0 en utilisant les Timers et Interruptions</strong><a href="#tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions-1" class="hash-link" aria-label="Lien direct vers tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions-1" title="Lien direct vers tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions-1">​</a></h3><ul>
<li><strong>Utilisez des timers et interruptions</strong> pour détecter les appuis sur les boutons et <strong>contrôler le clignotement des LEDs</strong>.</li>
</ul><p>📌 <strong>Rappel (Lab 0, Exercice 3) :</strong></p><ul>
<li><strong>BTN1 :</strong> Change la couleur de la <strong>LED RGB</strong> (<strong>Rouge → Vert → Bleu → Rouge</strong>).</li>
<li><strong>BTN2 :</strong> Active/Désactive le <strong>clignotement de la LED</strong>.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-3--contrôle-dun-buzzer-avec-des-boutons-1"><strong>Tâche 3 : Contrôle d’un Buzzer avec des Boutons</strong><a href="#tâche-3--contrôle-dun-buzzer-avec-des-boutons-1" class="hash-link" aria-label="Lien direct vers tâche-3--contrôle-dun-buzzer-avec-des-boutons-1" title="Lien direct vers tâche-3--contrôle-dun-buzzer-avec-des-boutons-1">​</a></h3><ul>
<li>Utilisez les <strong>boutons <code>PD6</code> et <code>PB2</code></strong> pour contrôler un buzzer.</li>
<li><strong>Un bouton sélectionne la fréquence</strong> parmi trois valeurs (ex. <strong>100Hz, 200Hz, 300Hz</strong>).</li>
<li><strong>Le deuxième bouton doit être maintenu enfoncé</strong> pour que le buzzer émette un son.</li>
<li><strong>Utilisez la LED RGB</strong> pour indiquer la fréquence sélectionnée.</li>
</ul><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tâche-4-bonus--correction-derreur-du-timer-1"><strong>Tâche 4 (BONUS) : Correction d’Erreur du Timer</strong><a href="#tâche-4-bonus--correction-derreur-du-timer-1" class="hash-link" aria-label="Lien direct vers tâche-4-bonus--correction-derreur-du-timer-1" title="Lien direct vers tâche-4-bonus--correction-derreur-du-timer-1">​</a></h3><ul>
<li>La fonction <strong><code>millis()</code></strong> accumule une <strong>erreur</strong> au fil du temps en raison des imprécisions de division de la fréquence d’horloge.</li>
<li><strong>Calcul :</strong>
<ul>
<li>Après combien de cycles du timer <strong>l&#x27;erreur dépasse-t-elle 1ms</strong> ?</li>
</ul>
</li>
<li><strong>Proposez une méthode</strong> pour réduire cette erreur.</li>
<li><strong>Implémentez la méthode de correction proposée</strong>.</li>
</ul><hr></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/fr/lab/lab01"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">Laboratoire 1 : USART. Débogage</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fr/lab/lab03"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">TP 3 : Timers, Modulation de Largeur d&#x27;Impulsion (PWM)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chapitres-utiles-du-datasheet-atmega324" class="table-of-contents__link toc-highlight"><strong>Chapitres utiles du</strong> Datasheet ATmega324</a></li><li><a href="#objectif" class="table-of-contents__link toc-highlight"><strong>Objectif</strong></a></li><li><a href="#1-interruptions" class="table-of-contents__link toc-highlight"><strong>1. Interruptions</strong></a><ul><li><a href="#pourquoi-utiliser-des-interruptions-" class="table-of-contents__link toc-highlight"><strong>Pourquoi utiliser des interruptions ?</strong></a></li><li><a href="#gestion-des-interruptions" class="table-of-contents__link toc-highlight"><strong>Gestion des interruptions</strong></a></li></ul></li><li><a href="#table-de-vecteurs-dinterruption-ivt" class="table-of-contents__link toc-highlight"><strong>Table de Vecteurs d&#39;Interruption (IVT)</strong></a></li><li><a href="#table-de-vecteurs-dinterruption-pour-latmega324" class="table-of-contents__link toc-highlight"><strong>Table de Vecteurs d&#39;Interruption pour l&#39;ATmega324</strong></a><ul><li><a href="#interruptions-intn" class="table-of-contents__link toc-highlight"><strong>Interruptions INTn</strong></a></li><li><a href="#interruptions-pcintn" class="table-of-contents__link toc-highlight"><strong>Interruptions PCINTn</strong></a></li></ul></li><li><a href="#broches-dinterruption-externe-sur-latmega324" class="table-of-contents__link toc-highlight"><strong>Broches d&#39;Interruption Externe sur l&#39;ATmega324</strong></a></li><li><a href="#11-utilisation-des-interruptions" class="table-of-contents__link toc-highlight"><strong>1.1. Utilisation des Interruptions</strong></a><ul><li><a href="#1️⃣-activer-le-mécanisme-dinterruption-globale" class="table-of-contents__link toc-highlight"><strong>1️⃣ Activer le mécanisme d&#39;interruption globale</strong></a></li><li><a href="#2️⃣-configurer-le-périphérique-qui-générera-les-interruptions" class="table-of-contents__link toc-highlight"><strong>2️⃣ Configurer le périphérique qui générera les interruptions</strong></a></li><li><a href="#registre-eicra" class="table-of-contents__link toc-highlight"><strong>Registre EICRA</strong></a></li><li><a href="#modes-de-déclenchement-des-interruptions" class="table-of-contents__link toc-highlight"><strong>Modes de Déclenchement des Interruptions</strong></a></li><li><a href="#3️⃣-implémenter-la-routine-de-service-dinterruption-isr" class="table-of-contents__link toc-highlight"><strong>3️⃣ Implémenter la Routine de Service d&#39;Interruption (ISR)</strong></a></li></ul></li><li><a href="#activation-des-interruptions-et-test-du-programme" class="table-of-contents__link toc-highlight"><strong>Activation des Interruptions et Test du Programme</strong></a><ul><li><a href="#registre-détat-sreg" class="table-of-contents__link toc-highlight"><strong>Registre d&#39;État (SREG)</strong></a></li><li><a href="#registre-de-contrôle-mcu-mcucr" class="table-of-contents__link toc-highlight"><strong>Registre de Contrôle MCU (MCUCR)</strong></a></li><li><a href="#registre-de-masque-des-interruptions-externes-eimsk" class="table-of-contents__link toc-highlight"><strong>Registre de Masque des Interruptions Externes (EIMSK)</strong></a></li></ul></li><li><a href="#12-utilisation-des-interruptions-dans-avr-gcc" class="table-of-contents__link toc-highlight"><strong>1.2 Utilisation des Interruptions dans avr-gcc</strong></a><ul><li><a href="#vecteurs-dinterruption-courants" class="table-of-contents__link toc-highlight"><strong>Vecteurs d&#39;Interruption Courants</strong></a></li><li><a href="#définition-dune-isr" class="table-of-contents__link toc-highlight"><strong>Définition d&#39;une ISR</strong></a></li><li><a href="#règles-de-gestion-des-interruptions" class="table-of-contents__link toc-highlight"><strong>Règles de Gestion des Interruptions</strong></a></li><li><a href="#options-isr" class="table-of-contents__link toc-highlight"><strong>Options ISR</strong></a></li><li><a href="#fonctions-utilitaires-supplémentaires" class="table-of-contents__link toc-highlight"><strong>Fonctions Utilitaires Supplémentaires</strong></a></li></ul></li><li><a href="#2-minuterie-timer" class="table-of-contents__link toc-highlight"><strong>2. Minuterie (Timer)</strong></a><ul><li><a href="#21-fonctionnement-dun-timer" class="table-of-contents__link toc-highlight"><strong>2.1. Fonctionnement d&#39;un Timer</strong></a></li><li><a href="#composants-de-base-dun-timer-sur-latmega324" class="table-of-contents__link toc-highlight"><strong>Composants de Base d’un Timer sur l’ATmega324</strong></a></li><li><a href="#22-modes-de-fonctionnement-du-timer" class="table-of-contents__link toc-highlight"><strong>2.2. Modes de Fonctionnement du Timer</strong></a></li><li><a href="#23-registres-du-timer" class="table-of-contents__link toc-highlight"><strong>2.3. Registres du Timer</strong></a></li></ul></li><li><a href="#24-configuration-du-timer" class="table-of-contents__link toc-highlight"><strong>2.4. Configuration du Timer</strong></a><ul><li><a href="#définition-du-mode-du-timer" class="table-of-contents__link toc-highlight"><strong>Définition du Mode du Timer</strong></a></li><li><a href="#configuration-du-prédiviseur" class="table-of-contents__link toc-highlight"><strong>Configuration du Prédiviseur</strong></a></li><li><a href="#activation-des-interruptions-du-timer" class="table-of-contents__link toc-highlight"><strong>Activation des Interruptions du Timer</strong></a></li></ul></li><li><a href="#25-gestion-des-registres-16-bits" class="table-of-contents__link toc-highlight"><strong>2.5. Gestion des Registres 16 bits</strong></a></li><li><a href="#26-calculateur-de-timer" class="table-of-contents__link toc-highlight"><strong>2.6. Calculateur de Timer</strong></a></li><li><a href="#outils-de-calcul-en-ligne" class="table-of-contents__link toc-highlight"><strong>Outils de Calcul en Ligne</strong></a><ul><li><a href="#tâche-11--implémentation-de-millis" class="table-of-contents__link toc-highlight"><strong>Tâche 1.1 : Implémentation de <code>millis()</code></strong></a></li><li><a href="#tâche-12--anti-rebond-des-boutons" class="table-of-contents__link toc-highlight"><strong>Tâche 1.2 : Anti-rebond des boutons</strong></a></li><li><a href="#tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions" class="table-of-contents__link toc-highlight"><strong>Tâche 2 : Réimplémentation de l&#39;Exercice 3 du Laboratoire 0 en utilisant les Timers et Interruptions</strong></a></li><li><a href="#tâche-3--contrôle-dun-buzzer-avec-des-boutons" class="table-of-contents__link toc-highlight"><strong>Tâche 3 : Contrôle d’un Buzzer avec des Boutons</strong></a></li><li><a href="#tâche-4-bonus--correction-derreur-du-timer" class="table-of-contents__link toc-highlight"><strong>Tâche 4 (BONUS) : Correction d’Erreur du Timer</strong></a></li><li><a href="#tâche-11--implémentation-de-millis-1" class="table-of-contents__link toc-highlight"><strong>Tâche 1.1 : Implémentation de <code>millis()</code></strong></a></li><li><a href="#tâche-12--anti-rebond-des-boutons-1" class="table-of-contents__link toc-highlight"><strong>Tâche 1.2 : Anti-rebond des boutons</strong></a></li><li><a href="#tâche-2--réimplémentation-de-lexercice-3-du-laboratoire-0-en-utilisant-les-timers-et-interruptions-1" class="table-of-contents__link toc-highlight"><strong>Tâche 2 : Réimplémentation de l&#39;Exercice 3 du Laboratoire 0 en utilisant les Timers et Interruptions</strong></a></li><li><a href="#tâche-3--contrôle-dun-buzzer-avec-des-boutons-1" class="table-of-contents__link toc-highlight"><strong>Tâche 3 : Contrôle d’un Buzzer avec des Boutons</strong></a></li><li><a href="#tâche-4-bonus--correction-derreur-du-timer-1" class="table-of-contents__link toc-highlight"><strong>Tâche 4 (BONUS) : Correction d’Erreur du Timer</strong></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ocw.cs.pub.ro/courses/pm" target="_blank" rel="noopener noreferrer" class="footer__link-item">UPB Open CourseWare <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Politehnica Bucharest. <br> This pages are the translated and adapted version from https://ocw.cs.pub.ro/courses/pm</div></div></div></footer></div>
</body>
</html>