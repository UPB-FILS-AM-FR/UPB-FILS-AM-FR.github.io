<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-lab docs-version-current docs-doc-page docs-doc-id-lab04/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Lab 4: Analog to Digital Converter (ADC) | Microprocessor Architecture</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://upb-fils-am-fr.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://upb-fils-am-fr.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://upb-fils-am-fr.github.io/lab/lab04"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-lab-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-lab-current"><meta data-rh="true" property="og:title" content="Lab 4: Analog to Digital Converter (ADC) | Microprocessor Architecture"><meta data-rh="true" name="description" content="This lab aims to familiarize you with the analog-to-digital converter integrated in the ATmega324P microcontroller."><meta data-rh="true" property="og:description" content="This lab aims to familiarize you with the analog-to-digital converter integrated in the ATmega324P microcontroller."><link data-rh="true" rel="icon" href="/img/sigla_am.ico"><link data-rh="true" rel="canonical" href="https://upb-fils-am-fr.github.io/lab/lab04"><link data-rh="true" rel="alternate" href="https://upb-fils-am-fr.github.io/lab/lab04" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://upb-fils-am-fr.github.io/fr/lab/lab04" hreflang="fr"><link data-rh="true" rel="alternate" href="https://upb-fils-am-fr.github.io/lab/lab04" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f442cfaf.css">
<script src="/assets/js/runtime~main.94e8b8f9.js" defer="defer"></script>
<script src="/assets/js/main.432a33b9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/sigla_am.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sigla_am.svg" alt="Microprocessor Architecture" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/sigla_am.svg" alt="Microprocessor Architecture" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Microprocessor Architecture</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/lab">Lab</a><a class="navbar__item navbar__link" href="/project">Project</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/lab/lab04" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-GB">English</a></li><li><a href="/fr/lab/lab04" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li></ul></div><a href="https://github.com/UPB-FILS-AM-FR/am-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab">General Lab Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/lab00">Laboratory 0: Introductory Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/lab01">Laboratory 1: USART. Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/lab02">Laboratory 2: Interrupts, Timers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/lab03">Lab 3: Timers, Pulse Width Modulation (PWM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/lab/lab04">Lab 4: Analog to Digital Converter (ADC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/lab05">Lab 5: SPI (Serial Peripheral Interface)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lab/lab06">Lab 6: I2C (Inter-Integrated Circuit)</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 4: Analog to Digital Converter (ADC)</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lab 4: Analog to Digital Converter (ADC)</h1></header>
<p>This lab aims to familiarize you with the analog-to-digital converter integrated in the ATmega324P microcontroller.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-measuring-analog-signals">1. Measuring Analog Signals<a href="#1-measuring-analog-signals" class="hash-link" aria-label="Direct link to 1. Measuring Analog Signals" title="Direct link to 1. Measuring Analog Signals">​</a></h2>
<p>To measure analog signals in a digital system, they must be converted into discrete numerical values. An Analog to Digital Converter (ADC) is an electronic circuit that converts an input analog voltage into a digital output value.</p>
<p><img decoding="async" loading="lazy" alt="Analog Signal" src="/assets/images/semnalanalogic-1e865048b6c9a83bf90ac9a79e1d30ff.png" width="769" height="488" class="img_ev3q"></p>
<p>A key characteristic of an ADC is its <strong>resolution</strong>, which indicates the number of discrete output values it can produce across the measurement range. Since the conversion results are stored in binary form, ADC resolution is typically expressed in bits.<br>
<!-- -->The <strong>measurement quantum</strong>—the smallest change distinguishable by the ADC—is calculated as the input voltage range divided by the number of possible output values (2^N).</p>
<p><img decoding="async" loading="lazy" alt="ADC Resolution" src="/assets/images/rezolutie-9459ac9e3ac46af0350b3c36904d4fbc.png" width="1135" height="390" class="img_ev3q"></p>
<p>For example, a 10-bit ADC provides 2^10 = 1024 different output values. For a measurement range from 0V to 5V, the quantum would be (5V - 0V)/1024 ≈ 4.8 mV.</p>
<p>Another important characteristic is the <strong>sampling rate</strong>, which determines how frequently values are converted and affects how accurately the original waveform can be reconstructed after digital processing. Below is a visual representation of how a signal reconstructed through a DAC may differ from the original depending on sampling rate.</p>
<p><img decoding="async" loading="lazy" alt="Nyquist Theorem Illustration" src="/assets/images/illustration-of-the-nyquist-shannon-sampling-theorem-if-sampling-at-a-frequency-that-is-bee2045456435d30bb67e9c648075b19.png" width="850" height="420" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nyquist-theorem">Nyquist Theorem<a href="#nyquist-theorem" class="hash-link" aria-label="Direct link to Nyquist Theorem" title="Direct link to Nyquist Theorem">​</a></h3>
<p>To reproduce a signal without loss, the sampling rate must be <strong>at least twice</strong> the highest frequency present in the signal. This applies to simple sine waves as well as complex signals like voice or music.</p>
<ul>
<li>Human hearing ranges from 20Hz to 20kHz, but voice transmission typically falls between 20–4000Hz.</li>
<li>Telephone systems often sample at 8000Hz to ensure intelligible voice reproduction.</li>
<li>CDs use 44100Hz to cover the full range of audible frequencies with high fidelity.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adc-types">ADC Types<a href="#adc-types" class="hash-link" aria-label="Direct link to ADC Types" title="Direct link to ADC Types">​</a></h3>
<p>Depending on their internal operation, ADCs can be categorized as:</p>
<ul>
<li>Flash ADC (Direct Conversion)</li>
<li>Successive Approximation ADC</li>
<li>Integrating ADC (single-slope, dual-slope)</li>
<li>Sigma-Delta ADC (1-bit or oversampling types)</li>
</ul>
<hr>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to expand more details</summary><div><div class="collapsibleContent_i85q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolution">Resolution<a href="#resolution" class="hash-link" aria-label="Direct link to Resolution" title="Direct link to Resolution">​</a></h3><p>Resolution defines the number of discrete values an ADC can output. For example:</p><ul>
<li>8-bit resolution = 256 levels (values 0–255)</li>
<li>For a 0–5V range and 8-bit resolution: each level = 5V / 256 ≈ 0.0195V</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sampling-rate">Sampling Rate<a href="#sampling-rate" class="hash-link" aria-label="Direct link to Sampling Rate" title="Direct link to Sampling Rate">​</a></h3><p>The sampling rate is the frequency at which the analog signal is sampled:</p><ul>
<li>Must be ≥ 2× input signal frequency (Nyquist frequency)</li>
<li>Undersampling causes <strong>aliasing</strong>, misinterpreting high frequencies as lower ones</li>
</ul><p><img decoding="async" loading="lazy" alt="Aliasing Problem" src="/assets/images/adc_2-54c450e92bf07b2e83e9ed93f396de18.png" width="620" height="220" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adc-architectures">ADC Architectures<a href="#adc-architectures" class="hash-link" aria-label="Direct link to ADC Architectures" title="Direct link to ADC Architectures">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="flash-adc">Flash ADC<a href="#flash-adc" class="hash-link" aria-label="Direct link to Flash ADC" title="Direct link to Flash ADC">​</a></h4><ul>
<li>Fastest type, uses a bank of comparators operating in parallel</li>
<li>Converts almost instantaneously but requires lots of hardware</li>
</ul><p><img decoding="async" loading="lazy" alt="Flash ADC" src="/assets/images/adc_3-ce7cbb1ce026b916b48aa420500ef264.png" width="308" height="328" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="successive-approximation-adc-sar">Successive Approximation ADC (SAR)<a href="#successive-approximation-adc-sar" class="hash-link" aria-label="Direct link to Successive Approximation ADC (SAR)" title="Direct link to Successive Approximation ADC (SAR)">​</a></h4><ul>
<li>Uses binary search to converge on input voltage</li>
<li>More compact and cheaper than Flash, but slower</li>
</ul><p><img decoding="async" loading="lazy" alt="SAR ADC" src="/assets/images/adc_4-26e0e53ddfc42bb179b64a2a28dfb50c.png" width="570" height="246" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sigma-delta-adc">Sigma-Delta ADC<a href="#sigma-delta-adc" class="hash-link" aria-label="Direct link to Sigma-Delta ADC" title="Direct link to Sigma-Delta ADC">​</a></h4><ul>
<li>Offers high resolution and low noise</li>
<li>Suitable for applications where speed is less important</li>
<li>Uses sample-and-hold circuit to store analog input during conversion</li>
</ul><p><img decoding="async" loading="lazy" alt="Sigma-Delta ADC" src="/assets/images/adc_5-80360d43fa6e06790bb8580b541cded8.png" width="422" height="221" class="img_ev3q"></p></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-the-adc-converter-of-the-atmega324p">2. The ADC Converter of the ATmega324P<a href="#2-the-adc-converter-of-the-atmega324p" class="hash-link" aria-label="Direct link to 2. The ADC Converter of the ATmega324P" title="Direct link to 2. The ADC Converter of the ATmega324P">​</a></h2>
<p>The analog-to-digital converter included in the ATmega324P microcontroller is a <strong>successive approximation ADC</strong>. It has up to <strong>10-bit resolution</strong> and can measure any voltage between 0–5V from eight multiplexed analog inputs (pins on port A). Additionally, it can amplify low amplitude signals with selectable gain levels of 0 dB (1x), 20 dB (10x), or 46 dB (200x).</p>
<p>This converter is controlled using two status and control registers (<code>ADCSRA</code> and <code>ADCSRB</code>) and a multiplexer selection register (<code>ADMUX</code>). The first two control when a conversion is triggered, whether an interrupt should be generated at the end, etc. The multiplexer register selects the input channel and the reference voltage source. Since the processor&#x27;s registers are 8-bit and the ADC outputs up to 10 bits, the ADC result is split into a <strong>low</strong> and <strong>high</strong> byte.</p>
<blockquote>
<p><strong>Formula for conversion:</strong></p>
<p><code>ADC = V_in * 1024 / V_ref</code><br>
<code>V_in = ADC * V_ref / 1024</code></p>
</blockquote>
<p>Where <code>V_in</code> is the measured voltage and <code>V_ref</code> is the selected reference voltage.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference-voltage">Reference Voltage<a href="#reference-voltage" class="hash-link" aria-label="Direct link to Reference Voltage" title="Direct link to Reference Voltage">​</a></h3>
<p>Depending on the signal range, you can select a different <strong>reference voltage</strong> to increase reading precision. ATmega324P allows using:</p>
<ul>
<li>AVCC (supply voltage)</li>
<li>Internal 1.1V or 2.56V references</li>
<li>External reference via the AREF pin</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prescaler">Prescaler<a href="#prescaler" class="hash-link" aria-label="Direct link to Prescaler" title="Direct link to Prescaler">​</a></h3>
<p>The ADC requires a clock signal to determine how long a conversion lasts. Since the MCU clock is too fast, a <strong>prescaler</strong> is needed to divide it.</p>
<blockquote>
<p><strong>F_ADC = F_CPU / PRESCALER</strong></p>
</blockquote>
<p>Prescaler values range from 2 to 128. A higher prescaler means a slower ADC clock and more accurate results. More details are in Section 25.4 of the <a href="https://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-42743-ATmega324P_Datasheet.pdf" target="_blank" rel="noopener noreferrer">ATmega324P Datasheet</a>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modes-of-operation">Modes of Operation<a href="#modes-of-operation" class="hash-link" aria-label="Direct link to Modes of Operation" title="Direct link to Modes of Operation">​</a></h3>
<ul>
<li><strong>Single Conversion Mode</strong>: Performs one conversion. Start by setting <code>ADSC = 1</code>. It resets automatically after completion.</li>
<li><strong>Free Running Mode</strong>: Starts new conversions continuously. <code>ADSC</code> remains 1, and results are constantly updated.</li>
<li><strong>External Interrupt Trigger</strong>: Starts a conversion on a rising edge of a pin.</li>
<li><strong>Analog Comparator Mode</strong>: Compares two analog signals. (Not used in this lab.)</li>
<li><strong>Timer Mode</strong>: Uses timer events (e.g., overflow or compare match) to trigger conversions.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="ADC with Timer" src="/assets/images/adctimer-52d4be8a40b295e73489a07dbd2d375f.png" width="464" height="275" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="registers">Registers<a href="#registers" class="hash-link" aria-label="Direct link to Registers" title="Direct link to Registers">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="admux--adc-multiplexer-selection-register"><code>ADMUX</code> – ADC Multiplexer Selection Register<a href="#admux--adc-multiplexer-selection-register" class="hash-link" aria-label="Direct link to admux--adc-multiplexer-selection-register" title="Direct link to admux--adc-multiplexer-selection-register">​</a></h4>
<p><img decoding="async" loading="lazy" alt="ADMUX" src="/assets/images/adc_6-492fa03227336a1c2d344b16417178f5.png" width="579" height="92" class="img_ev3q"></p>
<ul>
<li><strong>Bits 7:6 – REFS1:0</strong> → Reference voltage selection<br>
<img decoding="async" loading="lazy" alt="REFS Bits" src="/assets/images/adc_7-34ab10e8ee805139861eea8adeaa961a.png" width="606" height="136" class="img_ev3q"></li>
<li><strong>Bit 5 – ADLAR</strong> → Left/right result alignment</li>
<li><strong>Bits 4:0 – MUX4:0</strong> → Analog input channel<br>
<img decoding="async" loading="lazy" alt="MUX Bits" src="/assets/images/adc_8-fa4a299a70140b2e7f182d6ca1cefd6a.png" width="576" height="227" class="img_ev3q"></li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adcsra--adc-control-and-status-register-a"><code>ADCSRA</code> – ADC Control and Status Register A<a href="#adcsra--adc-control-and-status-register-a" class="hash-link" aria-label="Direct link to adcsra--adc-control-and-status-register-a" title="Direct link to adcsra--adc-control-and-status-register-a">​</a></h4>
<p><img decoding="async" loading="lazy" alt="ADCSRA" src="data:image/png;base64,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" width="568" height="73" class="img_ev3q"></p>
<ul>
<li><strong>Bit 7 – ADEN</strong>: Enable ADC</li>
<li><strong>Bit 6 – ADSC</strong>: Start conversion</li>
<li><strong>Bit 5 – ADATE</strong>: Enable auto trigger</li>
<li><strong>Bit 4 – ADIF</strong>: Conversion complete flag</li>
<li><strong>Bit 3 – ADIE</strong>: Enable ADC interrupt</li>
<li><strong>Bits 2:0 – ADPS2:0</strong>: Set prescaler<br>
<img decoding="async" loading="lazy" alt="ADPS Bits" src="/assets/images/adc_10-e7a2a9d15b04ca53a524caf8884f5941.png" width="608" height="268" class="img_ev3q"></li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adcsrb--adc-control-and-status-register-b"><code>ADCSRB</code> – ADC Control and Status Register B<a href="#adcsrb--adc-control-and-status-register-b" class="hash-link" aria-label="Direct link to adcsrb--adc-control-and-status-register-b" title="Direct link to adcsrb--adc-control-and-status-register-b">​</a></h4>
<p><img decoding="async" loading="lazy" alt="ADCSRB" src="data:image/png;base64,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" width="579" height="75" class="img_ev3q"></p>
<ul>
<li><strong>Bits 2:0 – ADTS2:0</strong>: Auto trigger source<br>
<img decoding="async" loading="lazy" alt="ADTS Bits" src="/assets/images/adc_13-3f9c3adde97fd2d5f8db8b271fb9de77.png" width="605" height="224" class="img_ev3q"></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p><strong>Initialization to read from pin PA1 (ADC1):</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ADMUX </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Select ADC1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADMUX </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> MUX0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Use AVCC as reference voltage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADMUX </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> REFS0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADCSRA </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Set prescaler to 128</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADCSRA </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> ADPS0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Enable ADC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADCSRA </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> ADEN</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Read conversion result:</strong></p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Start conversion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADCSRA </span><span class="token operator" style="color:#393A34">|=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> ADSC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Wait for conversion to complete</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ADCSRA </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> ADSC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">uint16_t</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ADC</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Combined 10-bit result</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-exercises">4. Exercises<a href="#4-exercises" class="hash-link" aria-label="Direct link to 4. Exercises" title="Direct link to 4. Exercises">​</a></h2>
<p>The objective of these exercises is to use the <strong>analog-to-digital converter (ADC)</strong> integrated into the ATmega324P microcontroller to perform various readings (multiplexed buttons via voltage dividers, temperature sensor).</p>
<p>Download the code skeleton: <img decoding="async" loading="lazy" src="https://ocw.cs.pub.ro/courses/_media/pm/lab/lab_4_skel.zip" alt="lab_4_skel.zip" class="img_ev3q"></p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-0"><strong>Task 0</strong><a href="#task-0" class="hash-link" aria-label="Direct link to task-0" title="Direct link to task-0">​</a></h3>
<p>Complete the provided code skeleton (<code>adc.c</code>) by implementing a function similar to <code>analogRead(uint8_t pin)</code>. This function should:</p>
<ul>
<li>Perform a <strong>single conversion</strong> on the specified analog pin.</li>
<li><strong>Block</strong> execution until the result is available.</li>
<li>Return the <strong>converted digital value</strong>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-1"><strong>Task 1</strong><a href="#task-1" class="hash-link" aria-label="Direct link to task-1" title="Direct link to task-1">​</a></h3>
<p>Using the <code>analogRead()</code> function, read values from the <strong>temperature sensor</strong> connected to pin <strong>PA0</strong>.</p>
<ul>
<li>Touch the sensor (carefully) with your finger and observe how the readings change.</li>
<li>Optional: print the value via serial output.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-2"><strong>Task 2</strong><a href="#task-2" class="hash-link" aria-label="Direct link to task-2" title="Direct link to task-2">​</a></h3>
<p>Buttons 1–6 are <strong>multiplexed</strong> on a single analog pin <strong>PA5</strong>, using <strong>voltage dividers</strong>. Refer to the hardware schematic for a visual explanation.</p>
<p>Steps:</p>
<ol>
<li>Determine the <strong>analog value ranges</strong> returned when each button is pressed.</li>
<li>Define appropriate threshold values using <code>#define</code> macros.</li>
<li>Implement logic such that:<!-- -->
<ul>
<li><strong>BTN2</strong> → turn on <strong>Red LED</strong></li>
<li><strong>BTN3</strong> → turn on <strong>Green LED</strong></li>
<li><strong>BTN5</strong> → turn on <strong>Blue LED</strong></li>
</ul>
</li>
</ol>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task-3"><strong>Task 3</strong><a href="#task-3" class="hash-link" aria-label="Direct link to task-3" title="Direct link to task-3">​</a></h3>
<p>Configure the ADC to <strong>automatically</strong> start conversions on the <strong>temperature sensor (PA0)</strong> <strong>every 1 second</strong>, using <strong>Timer1</strong>.</p>
<p>Hints:</p>
<ul>
<li>Timer1 is already configured to trigger interrupts every second.</li>
<li>Check the datasheet for:<!-- -->
<ul>
<li><strong>ADATE (Auto Trigger Enable)</strong></li>
<li><strong>ADTS (Auto Trigger Source)</strong> fields in <code>ADCSRA</code> and <code>ADCSRB</code></li>
</ul>
</li>
<li>Optionally, instead of using auto-triggering, you can <strong>manually call</strong> <code>analogRead()</code> from the Timer1 interrupt handler.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-useful-links">5. Useful Links<a href="#5-useful-links" class="hash-link" aria-label="Direct link to 5. Useful Links" title="Direct link to 5. Useful Links">​</a></h2>
<ul>
<li>📘 <a href="https://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-42743-ATmega324P_Datasheet.pdf" target="_blank" rel="noopener noreferrer">ATmega324P Datasheet</a></li>
<li>🔧 <a href="https://github.com/dantudose/PM-Board" target="_blank" rel="noopener noreferrer">PM-Board Hardware Docs</a></li>
<li>🔲 <a href="https://www.instructables.com/Accessing-5-buttons-through-1-Arduino-pin-Revisi" target="_blank" rel="noopener noreferrer">Multiplexed Buttons on One Pin</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/lab/lab03"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 3: Timers, Pulse Width Modulation (PWM)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/lab/lab05"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 5: SPI (Serial Peripheral Interface)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-measuring-analog-signals" class="table-of-contents__link toc-highlight">1. Measuring Analog Signals</a><ul><li><a href="#nyquist-theorem" class="table-of-contents__link toc-highlight">Nyquist Theorem</a></li><li><a href="#adc-types" class="table-of-contents__link toc-highlight">ADC Types</a></li><li><a href="#resolution" class="table-of-contents__link toc-highlight">Resolution</a></li><li><a href="#sampling-rate" class="table-of-contents__link toc-highlight">Sampling Rate</a></li><li><a href="#adc-architectures" class="table-of-contents__link toc-highlight">ADC Architectures</a></li></ul></li><li><a href="#2-the-adc-converter-of-the-atmega324p" class="table-of-contents__link toc-highlight">2. The ADC Converter of the ATmega324P</a><ul><li><a href="#reference-voltage" class="table-of-contents__link toc-highlight">Reference Voltage</a></li><li><a href="#prescaler" class="table-of-contents__link toc-highlight">Prescaler</a></li><li><a href="#modes-of-operation" class="table-of-contents__link toc-highlight">Modes of Operation</a></li><li><a href="#registers" class="table-of-contents__link toc-highlight">Registers</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#4-exercises" class="table-of-contents__link toc-highlight">4. Exercises</a><ul><li><a href="#task-0" class="table-of-contents__link toc-highlight"><strong>Task 0</strong></a></li><li><a href="#task-1" class="table-of-contents__link toc-highlight"><strong>Task 1</strong></a></li><li><a href="#task-2" class="table-of-contents__link toc-highlight"><strong>Task 2</strong></a></li><li><a href="#task-3" class="table-of-contents__link toc-highlight"><strong>Task 3</strong></a></li></ul></li><li><a href="#5-useful-links" class="table-of-contents__link toc-highlight">5. Useful Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ocw.cs.pub.ro/courses/pm" target="_blank" rel="noopener noreferrer" class="footer__link-item">UPB Open CourseWare <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Politehnica Bucharest. <br> This pages are the translated and adapted version from https://ocw.cs.pub.ro/courses/pm</div></div></div></footer></div>
</body>
</html>